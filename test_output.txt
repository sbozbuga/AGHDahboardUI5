
> ui5-agh-dashboard@1.0.0 test-ui5
> ui5-test-runner --start start-coverage --url http://localhost:8080/test/testsuite.qunit.html --coverage -ccb 60 -ccf 100 -ccl 80 -ccs 80

ï»¿       _ ____        _            _
 _   _(_) ___|      | |_ ___  ___| |_      _ __ _   _ _ __  _ __   ___ _ __
| | | | |___ \ _____| __/ _ \/ __| __|____| '__| | | | '_ \| '_ \ / _ \ '__|
| |_| | |___) |_____| ||  __/\__ \ ||_____| |  | |_| | | | | | | |  __/ |
 \__,_|_|____/       \__\___||___/\__|    |_|   \__,_|_| |_|_| |_|\___|_|
ui5-test-runner@5.13.0 / Node.js v22.22.0 / 2026-02-18T01:34:15.991Z (0)
x86_64 / 4x Intel(R) Xeon(R) Processor @ 2.30GHz

00:01 â”‚ Executing start command
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

00:01 â”‚ Waiting for URL to be reachable
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

> ui5-agh-dashboard@1.0.0 start-coverage
> ui5 serve --port 8080 --config ui5-coverage.yaml

info graph:helpers:ui5Framework Using OpenUI5 version: 1.144.0
info server:custom-middleware:ui5-tooling-transpile-middleware Using inline Babel configuration from ui5.yaml...
warn server:custom-middleware:ui5-tooling-transpile-middleware Ignoring configuration option "transformModulesToUI5" due to external configuration!
info server:custom-middleware:ui5-middleware-livereload Livereload server started!
Server started
URL: http://localhost:8080
UI5 version used by the local server: 1.144.0
Server running at http://192.168.0.2:34941/

00:03 â”‚ Probing browser instantiation command
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
puppeteer@24.37.3 in ...s/.nvm/versions/node/v22.22.0/lib/node_modules/puppeteer
Browser capabilities :
 â”œâ”€ modules
 â”‚  â””â”€  puppeteer
 â”œâ”€ screenshot: ".png"
 â”œâ”€ scripts: true
 â”œâ”€ parallel: true
 â””â”€ traces: ["console","network"]
nyc@17.1.0 in /home/jules/.nvm/versions/node/v22.22.0/lib/node_modules/nyc
âš ï¸ [SKPNYC] Skipping nyc instrumentation (--url)

00:04 â”‚ Probing urls
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:04 >> http://localhost:8080/test/testsuite.qunit.html           [vDOUTCY$Tfg]
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/testsuite.qunit.ts
00:05 << http://localhost:8080/test/testsuite.qunit.html           [vDOUTCY$Tfg]

00:05 â”‚ Executing test pages
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:05 >> ...ces/ui5/aghd/testsuite.qunit&test=integration/opaTests [AuLs7sNHqOI]
00:05 >> ...resources/ui5/aghd/testsuite.qunit&test=unit/unitTests [fJvQ1qbgEB8]
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/integration/opaTests.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/unitTests.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/integration/NavigationJourney.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/App.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/Dashboard.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/Login.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/Logs.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/LogsPerformance.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/integration/pages/AppPage.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/unitTests.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/App.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/Login.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/Logs.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/Dashboard.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/LogsPerformance.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/service/AdGuardService.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/service/AdGuardServiceSecurity.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/service/GeminiService.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/service/SettingsService.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/service/SettingsServiceSecurity.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/controller/DashboardPerformance.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/unit/model/formatter.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/App.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/Login.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/Logs.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/Dashboard.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /service/AdGuardService.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /model/Constants.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /service/SettingsService.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /service/GeminiService.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /model/formatter.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/BaseController.ts
warn builder:processors:manifestEnhancer /manifest.json: Generated supported locales ('') for bundle 'i18n/i18n.properties' do not contain default fallback locale 'en'. Either provide a properties file for 'en' or configure another available fallbackLocale
warn builder:processors:manifestEnhancer /manifest.json: Generated supported locales ('') for bundle 'i18n/i18n.properties' do not contain default fallback locale 'en'. Either provide a properties file for 'en' or configure another available fallbackLocale
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /Component.ts
00:23 << ...ghd/testsuite.qunit&test=integration/opaTests  (00:11) [AuLs7sNHqOI]
00:24 << .../ui5/aghd/testsuite.qunit&test=unit/unitTests  (00:05) [fJvQ1qbgEB8]

00:24 â”‚ Generating coverage report
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/Login.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/App.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/Dashboard.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /service/AdGuardService.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/integration/opaTests.qunit.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/Logs.controller.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/integration/NavigationJourney.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /model/Constants.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /service/SettingsService.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /service/GeminiService.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /controller/BaseController.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /test/integration/pages/AppPage.ts
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /model/formatter.ts
warn builder:processors:manifestEnhancer /manifest.json: Generated supported locales ('') for bundle 'i18n/i18n.properties' do not contain default fallback locale 'en'. Either provide a properties file for 'en' or configure another available fallbackLocale
warn builder:processors:manifestEnhancer /manifest.json: Generated supported locales ('') for bundle 'i18n/i18n.properties' do not contain default fallback locale 'en'. Either provide a properties file for 'en' or configure another available fallbackLocale
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /Component.ts
00:23 << ...ghd/testsuite.qunit&test=integration/opaTests  (00:10) [AuLs7sNHqOI]
00:23 << .../ui5/aghd/testsuite.qunit&test=unit/unitTests  (00:04) [fJvQ1qbgEB8]

00:23 â”‚ Generating coverage report
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
info server:custom-middleware:ui5-tooling-transpile-middleware Transpiling resource /model/AdGuardTypes.ts
nyc merge /app/.nyc_output /app/.nyc_output/merged/coverage.json
coverage files in /app/.nyc_output merged into /app/.nyc_output/merged/coverage.json


00:24 â”‚ Checking remote source files
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
nyc report --reporter=lcov --reporter=cobertura --reporter=text --branches=60 --functions=100 --lines=80 --statements=80 --check-coverage --temp-dir /app/.nyc_output/merged --report-dir /app/coverage --nycrc-path /app/.nyc_output/settings/.nycrc.json
--------------------------|---------|----------|---------|---------|--------------------------------
File                      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
--------------------------|---------|----------|---------|---------|--------------------------------
All files                 |   44.38 |    42.88 |   46.61 |    46.9 |
 webapp                   |      30 |        0 |      50 |      30 |
  Component.ts            |      30 |        0 |      50 |      30 | 33-44
 webapp/controller        |   25.15 |    24.48 |   28.78 |   27.29 |
  App.controller.ts       |   83.33 |      100 |   66.66 |   83.33 | 21
  BaseController.ts       |    4.22 |        0 |    12.5 |    4.61 | 30-146
  Dashboard.controller.ts |   47.61 |     50.6 |      50 |   53.63 | ...-99,153,168-169,184-251,267
  Login.controller.ts     |      12 |       10 |      20 |   12.24 | 17-39,56-108
  Logs.controller.ts      |   20.83 |    13.55 |   16.66 |   22.58 | ...176,183-363,378-379,393-480
 webapp/model             |    90.9 |    90.24 |   85.71 |   90.62 |
  AdGuardTypes.ts         |       0 |        0 |       0 |       0 |
  Constants.ts            |     100 |      100 |     100 |     100 |
  formatter.ts            |   90.62 |    90.24 |   85.71 |   90.32 | 18-21
 webapp/service           |   69.11 |    57.07 |   67.44 |   70.53 |
  AdGuardService.ts       |   58.82 |    47.61 |      60 |   60.24 | ...365-366,393,399-407,418-450
  GeminiService.ts        |   80.68 |    57.89 |   72.72 |   83.33 | 70,97-103,118,154,160,223-233
  SettingsService.ts      |   79.71 |    79.06 |      75 |   79.71 | ...7,49,61-62,69-70,92,133-139
--------------------------|---------|----------|---------|---------|--------------------------------
ERROR: Coverage for lines (46.9%) does not meet global threshold (80%)
ERROR: Coverage for functions (46.61%) does not meet global threshold (100%)
ERROR: Coverage for branches (42.88%) does not meet global threshold (60%)
ERROR: Coverage for statements (44.38%) does not meet global threshold (80%)



00:24 â”‚ Generating reports
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚...-resources/ui5/aghd/testsuite.qunit&test=integration/opaTests ðŸ¥¼      1/1  â”‚
â”‚...e=test-resources/ui5/aghd/testsuite.qunit&test=unit/unitTests ðŸ§ª ðŸž  38/41 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[....html?testsuite=test-resources/ui5/aghd/testsuite.qunit&test=unit/unitTests]
Page execution folder name : fJvQ1qbgEB8
SettingsService â–¶ Input Validation: Length Limits
Throws when System Context exceeds limit
Throws when API Key exceeds limit

Logs Controller â–¶ formatInsights sanitizes HTML and applies Markdown
Markdown Bold works
HTML is escaped
Mixed Markdown and HTML works
Newlines are converted

Dashboard Controller Performance Optimization â–¶ Optimization: getSlowestQueries is throttled to 60s
First run calls getSlowestQueries
Second run (15s elapsed) skips getSlowestQueries due to throttling
Third run (30s elapsed) skips getSlowestQueries
Fourth run (65s elapsed) calls getSlowestQueries

Logs Controller â–¶ formatInsights sanitizes HTML and applies Markdown
Markdown Bold works
HTML is escaped
Mixed Markdown and HTML works
Newlines are converted


00:24 â”‚ Reports generated
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

00:24 â”‚ Terminating start command
â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
